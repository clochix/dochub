define(["jQuery","Underscore","Backbone","text!templates/toc.html"],function(a,b,c,d){var e=c.View.extend({events:{"click a":"onClick"},initialize:function(){b.bindAll(this,"render","addBindings","removeBindings"),this.template=b.template(d),this.$searchBox=this.$("#search-box"),this.$searchResults=a("#search-results")},render:function(){return this},addBindings:function(){this.delegateEvents()},removeBindings:function(){a(this.el).undelegate()},onClick:function(b){if(b.button>0)return;if(b.ctrlKey||b.metaKey||b.shiftKey||b.altKey)return;var d=a.trim(this.$searchBox.val()).toLowerCase();d===""&&this.collection.each(function(a){a.get("mainVisible")&&a.set({mainVisible:!1})});var e=this.$(b.currentTarget),f=e.attr("data-model-id");this.collection.get(f).set({mainVisible:!0});var g=this.$searchResults.scrollTop(),h=a("#"+f).offset().top;this.$searchResults.scrollTop(g+h-60);var i=e.attr("href");c.history.navigate(i,!1),b.preventDefault()}});return e})