define(["jQuery","Underscore","Backbone","text!templates/topnav.html"],function(a,b,c,d){var e=c.View.extend({events:{"click #nav-list > li > a":"changeActive","click #secondary-nav > li > a":"changeActive"},initialize:function(){b.bindAll(this,"render","changeActive","setActiveElement"),this.template=b.template(d)},changeActive:function(a){if(a.target.id==="twitter-link")return;this.setActiveElement(a.target.id)},setActiveElement:function(a){var b=this.$("#"+a);this.$("#nav-list > .active").removeClass("active"),this.$("#secondary-nav > .active").removeClass("active"),b.parent().addClass("active");var c=b.attr("data-lang");c&&this.trigger("changeLanguage",c)},render:function(){return a(this.el).html(this.template({settings:this.options.settings})),this}});return e})